# Configuración de CerebroVial

# Modelo YOLO
model:
  path: 'yolov8n.pt'  # Opciones: yolov8n.pt, yolov8s.pt, yolov8m.pt, yolov8l.pt, yolov8x.pt
  device: 'auto'  # 'auto' (detecta GPU), 'cpu', 'cuda', 'cuda:0', 'mps' (Apple Silicon)
  confidence: 0.25  # Umbral de confianza (0.0 - 1.0)
  iou: 0.45  # Umbral de IoU para NMS
  half_precision: true  # Usar FP16 en GPU para mejor rendimiento (solo si GPU disponible)

# Clases de vehículos a detectar (COCO dataset)
vehicle_classes:
  car: 2
  motorcycle: 3
  bus: 5
  truck: 7

# Configuración del contador
counter:
  line_y_ratio: 0.80  # Posición de la línea (0.0 = arriba, 1.0 = abajo)
  direction: 'up'  # 'up' o 'down'

# Configuración del calculador de velocidad
speed_calculator:
  enabled: true
  line_entry_ratio: 0.90  # Línea de entrada a la zona de medición
  line_exit_ratio: 0.68   # Línea de salida de la zona de medición
  real_world_distance_m: 5.0  # Distancia REAL en metros entre las dos líneas
  avg_speed_update_interval_sec: 3 # Intervalo para recalcular la velocidad promedio

# Visualización
visualization:
  line_color: [0, 255, 0]  # RGB - Verde por defecto
  text_color: [255, 255, 255]  # RGB - Blanco
  crossing_indicator_color: [0, 0, 255]  # RGB - Rojo
  show_fps: true
  show_breakdown: true  # Mostrar desglose por tipo
  show_trajectories: true  # Mostrar trayectorias de vehículos
  trajectory_length: 30  # Número de puntos a mostrar en la trayectoria

# Serie temporal
timeseries:
  enabled: true
  interval_seconds: 60  # Guardar conteo cada N segundos

# Paths
paths:
  input_video: 'data/input/traffic_test.mp4'
  output_video: 'data/output/traffic_test_output.mp4'
  results_dir: 'data/results'
  logs_dir: 'logs'

# Logging
logging:
  level: 'INFO'  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_to_file: true
  console_output: true

# Stream (para fromUrl.py)
stream:
  url: 'https://youtu.be/qMYlpMsWsBE'
  max_retries: 3
  retry_delay_sec: 3
  max_consecutive_errors: 30

# Performance
performance:
  max_fps: null  # Limitar FPS de procesamiento (null = sin límite)
  skip_frames: 0  # Procesar 1 de cada N frames (0 = procesar todos)

# Servidor Web
web:
  host: '0.0.0.0'  # '0.0.0.0' = accesible desde red, '127.0.0.1' = solo local
  port: 8080

# Model Deployment
deployment:
  model_path: 'models/traffic_prediction_model.h5' # O .keras si usas Keras 3+
  scaler_path: 'models/traffic_scaler.pkl'